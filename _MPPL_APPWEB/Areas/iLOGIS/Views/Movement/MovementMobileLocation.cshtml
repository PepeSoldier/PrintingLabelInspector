
@{
    Layout = null;
    ViewBag.Title = "Movement";
    var workstations = ViewBag.WorkstationIds;
}

<div class="h-100 d-flex flex-column" id="iLogisWMSMovementMobileLocation"></div>

<script id="MovementMobileLocationTemplate" type="x-tmpl-mustache">

    <ilogis-wms-mobile-pageheader headerTitle="Zarządzanie Lokacją" icon="fas fa-people-carry"></ilogis-wms-mobile-pageheader>
    @*Scan Section*@
    {{#ShowBarcodeInput}}
    <div class="row no-gutters justify-content-center {{MarginBottomScanSection}} ml-2 mr-2">
        <div class="col-12 mb-2">
            <div class="card">
                <div class="card-body">
                    <div class="row no-gutters justify-content-center mt-2">
                        <div class="col-12">
                            <div class="row no-gutters justify-content-center">
                                <div class="col-12">
                                    <label class="mb-2">Zeskanuj kod kreskowy lub QR</label>
                                    <input type="text" id="barcode" class="form-control mb-2" placeholder="Kod kreskowy"  inputmode="none" autocomplete="off"/>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-12 pt-2" id="movementMenuButtons">
            <div class="row no-gutters">
                <div class="col-6 pr-2">
                    <a href="#/iLOGIS/Movement/Movement">
                        <div class="btn btn-outline-info btnTextWrap">
                            Przesunięcie Towarów
                        </div>
                    </a>
                </div>
                <div class="col-6 pl-2">
                    <a href="#/iLOGIS/Movement/MovementMobileConfirmation">
                        <div class="btn btn-outline-info btnTextWrap">
                            Potwierdzanie Zalokalizowania
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </div>
    {{/ShowBarcodeInput}}

    @*Information of scanned Product Section*@
    {{^ShowBarcodeInput}}
    <div class="card justify-content-center mb-2 ml-2 mr-2">
        <div class="card-body">
            <fieldset>
                <div class="row no-gutters mb-1">
                    <label class="col-5 col-form-label">Nazwa Lokacji</label>
                    <div class="col-7">
                        <input type="text" readonly="true" class="form-control" id="ItemCode" value="{{ SelectedWarehouseLocation.Name }}" />
                    </div>
                </div>
                <div class="row no-gutters mb-1">
                    <label class="col-5 col-form-label">Typ Lokacji</label>
                    <div class="col-7">
                        <input type="text" readonly="true" class="form-control" id="Qty" value="{{ SelectedWarehouseLocation.TypeName }}" />
                    </div>
                </div>
                <div class="row no-gutters mb-1">
                    <label class="col-5 col-form-label">Zawartość</label>
                    <div class="col-7">
                        <input type="text" readonly="true" class="form-control" id="Utilization" value="{{ SelectedWarehouseLocation.Utilization }}" />
                    </div>
                </div>
                @*Current Location*@
                <div class="row no-gutters form-group" style="margin-bottom:0px;">
                    <div class="form-group col-5">
                        <label class="col-form-label">Magazyn </label>
                        <div>
                            <input type="text" id="currentWarehouse" readonly="true" class="form-control" data-warehouseid="currentWarehouse" value="{{ SelectedWarehouseLocation.ParentWarehouseName }}" />
                        </div>
                    </div>
                    <div class="form-group col-7">
                        <label class="col-form-label">Obecja Pozycja</label>
                        <div>
                            <input type="text" id="CurrenLocation" readonly="true" class="form-control" value="{{ SelectedWarehouseLocation.ParentLocationName }}" />
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>

    <div class="card no-gutters justify-content-center mb-auto ml-2 mr-2">
        <div class="card-body">
            <fieldset>
                <div class="row no-gutters form-group" style="margin-bottom:0px;">
                    <div class="form-group col-6">
                        <label class="col-form-label"> Miejsce docelowe </label>
                        <div class="form-control btn btn-primary" id="destinationWarehouse" data-warehouseId="{{SelectedWarehouseLocation.WarehouseId}}">
                            {{SelectedWarehouseLocation.WarehouseName}}
                        </div>
                    </div>
                    <div class="form-group col-6">
                        <label class="col-form-label">Lokacja</label>
                        <div>
                            <input type="text" id="destinationLocation" data-locationid="{{DestinationWarehouseLocation.Is}}" class="form-control" style="background-color:#3aa4ffd9" value="{{DestinationWarehouseLocation.Name}}" />
                        </div>
                    </div>
                </div>
            </fieldset>
            <div class="row no-gutters justify-content-center mt-2">
                <div class="col-12">
                    <div id="btnGetLocation" class="btn btn-default">pobiez lokacje</div>
                </div>
            </div>
        </div>
    </div>
    {{/ShowBarcodeInput}}

    @*Manage Buttons Section*@
    <div class="row no-gutters justify-content-center" style="margin-bottom:0px;" id="ManageButtonsContent">
        <div class="{{ BtnColSize }}">
            <a href="#/iLOGIS/WMS/MobileMenu"><div class="btn btn-default btnAction" id="closeButton">ZAKOŃCZ</div></a>
        </div>
        <div class="{{ BtnColSize }}">
            <div class="btn btn-danger btnAction" id="clearBarcode">RESETUJ</div>
        </div>
        {{#BtnText}}
        <div class="col-4">
            <div class="btn btn-success btnTextWrap" id="{{BtnId}}">{{BtnText}}</div>
        </div>
        {{/BtnText}}
    </div>
</script>


<script type="text/javascript">
    var movementL = new MovementMobileLocation(@Html.Raw(Json.Encode(ViewBag.TemplateBarcode)));

    $(document).ready(function () {
        movementL.Init();
    });

</script>

