@model _MPPL_WEB_START.Areas.IDENTITY.ViewModels.EditViewModel
@using Microsoft.AspNet.Identity.EntityFramework;
@using MDL_BASE.Models.IDENTITY;

@{
    MDL_BASE.Models.IDENTITY.User user = (MDL_BASE.Models.IDENTITY.User)ViewBag.User;
    List<string> userRoles = (List<string>)ViewBag.UserRoles;
}

@Html.ActionLink("Przeglądaj użytkowników","Browse")

<h3>Dane Podstawowe</h3>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <hr />
    @Html.ValidationSummary(true, "", new { @class = "text-danger" })

    <div class="form-group">
        <div class="col-md-3">
            @Html.LabelFor(model => model.User.UserName, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-9">
            @Html.EditorFor(model => model.User.UserName, new { htmlAttributes = new { @class = "form-control", @Value = Model.User.UserName, @Disabled = "distabled" } })
            @Html.ValidationMessageFor(model => model.User.UserName, "", new { @class = "text-danger" })
        </div>
    </div>
    
    <div class="form-group">
        <div class="col-md-3">
            @Html.LabelFor(model => model.User.FirstName, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-9">
            @Html.EditorFor(model => model.User.FirstName, new { htmlAttributes = new { @class = "form-control", @Value = Model.User.FirstName } })
            @Html.ValidationMessageFor(model => model.User.FirstName, "", new { @class = "text-danger" })
        </div>
    </div>
    
    <div class="form-group">
        <div class="col-md-3">
            @Html.LabelFor(model => model.User.LastName, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-9">
            @Html.EditorFor(model => model.User.LastName, new { htmlAttributes = new { @class = "form-control", @Value = Model.User.LastName } })
            @Html.ValidationMessageFor(model => model.User.LastName, "", new { @class = "text-danger" })
        </div>
    </div>
    
    <div class="form-group">
        <div class="col-md-3">
            @Html.LabelFor(model => model.User.Email, htmlAttributes: new { @class = "control-label" })
        </div>
        <div class="col-md-9">
            @Html.EditorFor(model => model.User.Email, new { htmlAttributes = new { @class = "form-control", @Value = Model.User.Email } })
            @Html.ValidationMessageFor(model => model.User.Email, "", new { @class = "text-danger" })
        </div>
    </div>    
}

<div class="row"></div>

<h3>Role przypisane użytkownikowi</h3>

<ol>
    @foreach (ApplicationRole role in Model.UserRoles)
    {
         <li>@role.Name</li>
    }
</ol>

